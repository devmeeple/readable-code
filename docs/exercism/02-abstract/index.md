# 추상(Abstract)

# 2.4 이름 짓기

![이름 짓기 딜레마 <출처: 속촌아씨>](naming.jpg)

명료한 글을 작성하기 위해서는 표현이 중요하다. 코드도 마찬가지다. 이름은 읽는 사람에게 의도를 전달한다.
단, 이름을 잘 지어야 한다.

개발자는 매일 이름을 짓는다. 재밌게도, 작명가보다 이름을 많이 짓는다. 변수, 상수, 함수, 클래스... 셀 수 없다.

> 이름 짓는 시간을 단축할 수 있다면 생산성이 올라가지 않을까?

## 도메인 지식

도메인 지식은 직업에 관계없이 중요하다. 그렇다면, 개발자에게 도메인 지식은 왜 중요할까?
앞서 추상화를 배웠다. 추상적 사고, 추상화를 잘하기 위해서는 도메인 지식이 필요하다.

회사의 비즈니스를 모르면 어떻게 용어를 추상화할 수 있을지 생각해 봤다. 예를 들어 '영화 예매 시스템'을 만들어보자.

```java 
public interface Product {
    // 비즈니스... 
}

public interface Ticket {
    // 비즈니스
}
```

"영화관에서 파는 물건은 상품이야."

영화산업을 알지 못하면 티켓을 상품이라 표현할 수 있다. 처음에는 큰 문제가 되지 않는다. 하지만 잘못된 추상화로 비즈니스가 확장된다면 어떨까.
상품의 의미는 판매하는 티켓일까 혹은 음식일까? 지류티켓일까, 스마트 티켓일까? VIP 상품이 자연스러울까?

물류 시스템을 만들 때 상품이라는 표현을 사용해서 문제를 해결했더라도, 도메인에 따라 다르게 이해할 수 있다. 따라서 도메인 지식이 중요하다고 생각한다.

**도메인 지식을 추상화해서 만들어낸 구현체가 코드다.**

## 실용적인 팁

### 단수와 복수를 구분하기

![복수 너가 문제다 <출처: 국립국어원>](img.png)

영어를 잘 알지 않아도 단수는 비교적 간단하다. 하지만 문제는 복수다. 한국어는 단수. 복수를 표현할 때 `들`이라는 표현을 사용한다.
하지만 이마저도 익숙하지 않다. 그런데 영어로 복수를 어떻게 표현할까?

`-(e)s`를 붙일 수 있다. 하지만 영단어는 여러 상황에 따라 다르게 사용한다. 예를들어 다음과 같다.

- cat -> cats
- city -> cities
- leaf -> leaves

머리가 아프다. 도메인 용어를 이해했는데 복수의 벽을 만났다. ~~복수한다.~~
또 다른 방법은 `List`를 사용한다.

```java
public class MovieTheater {
    private Ticket ticket;

    // 티켓 여러장을 표현하는 방법
    private List<Ticket> tickets;
    private List<Ticket> ticketList;
}
```

- 이름 줄이지 않기
- 은어, 방언 사용하지 않기
- 좋은 코드를 보고 습득하기

## 2.5 메서드와 추상화

메서드의 추상화는 앞서 배운 변수를 통한 추상화와 유사하다. 메서드를 이야기하기 앞서, 잘 쓰인 글은 명료하게 작성되어 주제가 보인다.
코드도 그렇다. 메서드에는 가능한 하나의 동작을 기술하는 방법이 좋다. 이는 추후 테스트를 작성할 때 빛을 발휘한다.
뿐만 아니라 코드를 이해할 때도 여러 개의 동작을 이해해야 한다면 인지비용이 증가한다.

만약 추상화가 어렵다면 메서드가 많은 책임을 지고 있는 건 아닌지 생각해 보자.
메서드의 역할을 생각하고 책임을 분산하는 방법이 당신을 이롭게 한다.

## 2.6 메서드 선언부

Java는 오버로딩이 가능하다. 이러한 특징으로 메서드 선언부 `반환타입, 메서드 이름, 매개변수` 구조를 '메서드 시그니처'라고 표현한다.
과연 TypeScript도 그럴까? 메서드 시그니처 개념이 존재하지만 Java와 동작이 다르다.

```java 
public class User {
    private int age;

    public int age() {
        return this.age;
    }
} 
``` 

메서드, 함수를 선언할 때 "동사부터 시작하라"를 지키고 고민했다. 그런데 "동사부터 시작하지 않아도 괜찮아요. 내용에 따라 명사를 사용하세요"라는 조언을 들었다.
**어떻게 명사로 메서드를 표현할 수 있을까?** 전달하고 싶은 내용을 명료하게 추상화했는지 고민하자.

메서드 추상화는 메서드명에 국한되지 않는다. 반환 타입, 메서드명, 매개변수 모두 해당한다.

전치사를 사용해서 메서드를 추상화할 수 있다. 전치사를 사용해서 만든 메서드를 만났을 때 한 줄로 읽히는 마법을 보여준다.
Java에서 이미 수많은 전치사를 만났다. 그런데 한 번도 생각하지 못했던 메서드 작성 방법이다. 한번 더 배웠다.

메서드는 추출하고 끝나지 않는다. 추출한 이후에도 추상화가 잘 되었는지 고민하면 수정할 부분이 보인다.
코드의 양도 중요하지만 '무엇을 전하고 싶은가?' 의도에 맞게 작성했는지 고민하라.

## 2.7 추상화 레벨

추상화 레벨은 읽는 사람을 편하게 도와준다. 코드 중간에 추상화 레벨이 다르다면 어딘가 불편하다.
문맥에 추상화 레벨이 같도록 신경 쓰자. 메서드는 외부 세계와 내부 세계를 연결한다.

## 2.8 매직 넘버, 매직 스트링

의미가 있지만 이름이 없는 숫자, 문자열을 의미한다. 상수로 추출해서 의미를 부여한다.
가독성에 좋고 유지 보수가 용이하도록 변경한다.
